<h1>miniBB / Complete User and Administration Guide</h1>
<small><b>Version 2.0 RC2</b> Feb 24, 2005.
<br>
Copyright (c) 2001-2005 miniBB.net<br>
Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.1 or any later version published by the Free Software Foundation; with no Invariant Sections, with no Front-Cover Texts, and with no Back-Cover Texts. A copy of the license is included in the section entitled "GNU Free Documentation License".</small><br>

<ol>
<li><a href="#intro">Introduction</a>
<ol>
<li><a href="#require">Requirements</a>
<li><a href="#copyright">Copyright</a>
</ol>
<li><a href="#config1">Installation</a>
<ol>
<li><a href="#files">File list</a>
<li><a href="#config1">Config: 1st step</a>
<li><a href="#createForums">Creating forums</a>
</ol>
<li>Customization
<ol>
<li><a href="#config2">Config: 2nd step</a>
<li><a href="#templates">Templates</a>
<ul>
<li><a href="#customtpl">Custom templates</a>
</ul>
<li><a href="#lang">Language packs</a>
<li><a href="#css">Skins: CSS file</a>
</ol>
<li>Administrative options
<ol>
<li><a href="#panel">Admin panel</a>
<ul>
<li><a href="#addforum">Adding forums</a>
<li><a href="#editforum">Editing, re-ordering, deleting forums</a>
<li><a href="#removeuser">Removing a user</a>
<li><a href="#banuser">Ban/unban a user by IP</a>
<li><a href="#banuserid">Ban/unban a user by ID</a>
<li><a href="#searchusers">Search users</a>
<li><a href="#deleteemails">Delete email notifications</a>
<li><a href="#exportemails">Exporting emails list</a>
<li><a href="#restoreadmin">Restore Admin data in database</a>
</ul>
<li>"Hidden" admin forums options
<ul>
<li><a href="#subcats">Forum categories</a>
<li><a href="#privateforums">Private forums</a>
<li><a href="#archiveforums">Archive (read-only) forums</a>
<li><a href="#postforums">Post-only forums</a>
<li><a href="#userrankings">Users special rankings</a>
<li><a href="#reguserforums">Registered-users-only forums</a>
<li><a href="#modsarray">Moderators definition</a>
<li><a href="#exlastdisc">Excluding last discussions</a>
<li><a href="#sorthread">Sorting specific thread in DESC order</a>
<li><a href="#deletemessages">Deleting messages</a>
<li><a href="#deletetopics">Deleting topics</a>
<li><a href="#editmessages">Editing messages</a>
<li><a href="#movetopics">Moving topics</a>
<li><a href="#locktopic">Locking topics</a>
<li><a href="#stickytopic">"Stickying" topics</a>
<li><a href="#subscriptions">Subscriptions</a>
<li><a href="#adminprefs">"Preferences" for admin</a>
</ul>
<li>Moderators
<ul>
<li><a href="#moderators">Concepts and possibilities</a>
</ul>

</ol>
<li>Forums-wide user options
<ol>
<li><a href="#hierarchy">Users hierarchy</a>
<li><a href="#registration">User's registration</a>
<li><a href="#userlogin">User's login</a>
<li><a href="#userlang">User's language</a>
<li><a href="#newposts">New topics and replies</a>
<ul>
<li><a href="#emailNotifications">Email notifications</a>
<li><a href="#highlight">Automatic links highlighting</a>
<li><a href="#bbcodes">BB Codes</a>
<li><a href="#quoting">Quoting messages</a>
</ul>
<li><a href="#userlocktopic">Locking topics</a>
<li><a href="#editmessage">Editing messages</a>
<li><a href="#userprefs">Editing preferences</a>
<ul>
<li><a href="#viewemail">Show email public</a>
<li><a href="#sorttopics">Sort topics</a>
</ul>
<li><a href="#changepassword">Changing user password</a>
<li><a href="#forgotpassword">Forgotten password</a>
<li><a href="#search">Forums search panel</a>
<li><a href="#stats">Statistics</a>
</ol>
<li>Some notes for developers
<ol>
<li><a href="#lang">Language packs</a>
<li><a href="#dbmodules">Database modules</a>
<li><a href="#includeindex">Including in your own PHP script</a>
<li><a href="#mod_rewrite">mod_rewrite (Apache) using</a>
<li><a href="#phpcode">PHP scripts</a>
</ol>
<li><a href="#gnu">GNU Free Documentation License</a>
</ol>


<p><a name="intro"><b>Introduction</b></a>
<p>miniBB (an abbreviation of "minimalist bulletin board") is a flat-type (not threaded) bulletin board, discussion forums software, written in <a href="http://www.php.net">PHP</a> and using <a href="http://www.mysql.com">mySQL</a> or another PHP-compatible database as data backend. "Mini" doesn't mean "nothing". Specially developed for small and medium forum communities, which have less than 100 unique posts per day, miniBB also could be used in large projects. If you take a look at miniBB settings file, or this manual, you'll find a lot of options, both for users and administrator, which allow full and in-time control over the board.

<p>This guide refers to almost all miniBB features and possibilities. It is created both for user and administrator, and is included in miniBB package as "default" FAQ. You can use this manual as basic user FAQ for your page under GNU Free Documentation License described below. If you are using this guide as FAQ in your forums, remove all administration and developers guide, described in "Installation", "Customization", "Administrative options" and "Some notes for developers" sections. Usual users should read about this possibilities.

<p>Some options described in this manual requires basic HTML and PHP knowledge. If you are on beginner-user level, study it very carefully. Remember: nobody is able to let you understand, but somebody could give you chance in it.

<p><a name="require"><b>Requirements</b></a>
<p>There are no special requirements about server type, OS, PHP or mySQL version. Every system that supports PHP/mySQL combination, should also support miniBB. We've got reports that miniBB was successfully up &amp; running on Unix, Linux, Windows, Novell, MacOSX servers, with Apache or IIS installed. As about PHP or database version, we recommend to use ONLY FINAL and STABLE versions of these products.

<p>Before installing miniBB, <b>be sure</b> you have PHP installed on your server, and you have mySQL host, login and password information which you'll need to put into configuration file.

<p><a name="copyright"><b>Copyright</b></a>

<p>miniBB is a GPL project (read more on <a href="http://www.fsf.org/">Free Software Foundation</a> about GPL License), and you can copy/distribute/modify all scripts under terms of GPL. You may edit <b>every file</b> you get (incl. templates, CSS, language pack, plugins, addons, scripts), of course, replace our logo, maybe edit the menu on the top, also as put your own keywords and description in main heading file, but <b>YOU MAY NOT</b> remove our original copyright link string from the template "main_footer.html" (even you may edit it's look or location) and offer miniBB as "your" product or part of website, if you are using free GPL License, according to the sections 1 and 2c of this License. For removing the link and/or any copyright information, you need to buy miniBB commercial license. Read more about technical support on <a href="http://www.minibb.net/index.php?p=realsupp">our site</a>. If you want to integrate miniBB into your own software, there are two ways of doing that: a) distributing your software for free with corresponding license, you should mention miniBB's authors copyright UNTOUCHED inside every script, and you can do that without any persmission from us, since GPL license covers that; b) distributing your software commercially, you should either to keep all miniBB copyright notices as in free software case, but if you want to remove all references to us, we need to sign special commercial agreement, which is discussed individually.

<h1>Installation</h1>

<p><a name="files"><b>File list</b></a>
<p>For correct working, miniBB needs to have the following file &amp; folders structure:</p>
<pre>
[IMG]
[LANG]
[TEMPLATES]
bb_admin.php
bb_codes.php
bb_cookie.php
bb_default_style.css
bb_func_checkusr.php
bb_func_confpwd.php
bb_func_delmsg.php
bb_func_deltopic.php
bb_func_editmsg.php
bb_func_editprf.php
bb_func_forums.php
bb_func_inslng.php
bb_func_ldisc.php
bb_func_locktop.php
bb_func_login.php
bb_func_man.php
bb_func_movetpc.php
bb_func_pthread.php
bb_func_ptopic.php
bb_func_regusr.php
bb_func_search.php
bb_func_sendpwd.php
bb_func_stats.php
bb_func_sticky.php
bb_func_txt.php
bb_func_unsub.php
bb_func_usernfo.php
bb_func_usrdat.php
bb_func_vforum.php
bb_func_viewip.php
bb_func_vthread.php
bb_func_vtopic.php
bb_functions.php
bb_plugins.php
bb_specials.php
COPYING
index.php
setup_mysql.php <i>(or whatever you module is)</i>
setup_options.php
</pre>

<p>Optionally, there can be also install files and modules for different databases.
<p>[IMG], [LANG], and [TEMPLATES] are system directories. It is forbidden to rename them. They mean:</p>
<ul>
<li>[IMG]: board's images are placed in this directory, incl. "hot-buttons" and "topic icons". Inside this, you'll find a directory called "forum_icons". You can place any forum icons there. Don't rename this directory!
<li>[LANG]: a directory for keeping language packs. 
<li>[TEMPLATES]: a directory for HTML templates.
</ul>
<p>Read more about this below.
<p>Other files means following:</p>
<ul>
<li>bb_admin.php: your administration panel file. You <b>need to rename it</b> from default (see "options" below)!
<li>bb_codes.php: two functions inside provides BB codes replacement independently for each miniBB update. <b>Don't edit this file</b> if you are unfamiliar with PHP and/or regular expressions. If you are, you can edit this and add your new BB-codes (f.e., specially for administrator). enCodeBB() function used in posting messages, deCodeBB() - in editing messages (converts actual HTML back to BB-codes).
<li>bb_default_style.css - default CSS skin for your board (the same as on our forums), where you can change colors, table borders, fonts etc.; W3C-compliant.
<li>bb_functions.php: <b>don't touch this one</b>, if you are unfamiliar with PHP. This is basic functions file for the whole engine.
<li>bb_func_*.php files: <b>don't touch them</b>, if you are unfamiliar with PHP. They are modular functions files for the whole engine. Separate action functions are included in it.
<li>bb_plugins.php: file with all necessary plugins includings. By default, it is empty. This file is included in index.php once, and when you update your BB to new version, it is not necessary to edit index.php every time.
<li>bb_specials.php: file includes special forums definitions, like private, archive forums, user special rankings (see below for more).
<li>index.php: the main calling file for miniBB. Usually, your sever should support it as "begin" file for any directory. If not, check your server/PHP options. Every action on the board is called from this file.
<li>setup_mysql.php: default database (mySQL) module. Every mySQL request on the board included in it. You can also have another module (setup_mssql.php or setup_postgresql.php, for example).
<li>setup_options.php: miniBB options file, incl. administrator data. You need definitely change it's content, but also don't rename it.
<li><b>COPYING</b>: GPL license. Please, read it before using miniBB!
</ul>

<p><a name="config1"><b>Config: 1st step</b></a>
<p>Begin installation of miniBB is very simple. You need to create some database on your SQL server (f.e., "miniBB") with this command:</p>
<pre>
create database miniBB;
</pre>
<p>Then unpack your minibb zip package somewhere on your disk.
<p>Find the file called "setup_options.php". This is your main setup file. All engine is based on it.
<p>Open options file with some plain text editor on your computer. <strong>Edit your php files with a quality text editor!</strong> We recommend <a href="http://liquidninja.com/metapad/">Metapad</a>, or simply Notepad, because these editors are not storing additional newlines, spaces or breaks before <nobr>&lt;?php</nobr> and/or after <nobr>?&gt;</nobr>. It is <b>forbidden</b>, to have such kind of characters outside PHP execution code, because this may cause problems with your board (for example, you will be unable to log in, and kind of this error appears: <i>Cannot modify header information - headers already sent by (output started at...</i>) You will find a bunch of option variables, but it is not necessary to edit all of them in this 1st step. We will edit only necessary, and explain the others later. Let's begin.</p>
<ul>
<li><b>&#36;DB = 'mysql';</b> Depending on your database module, could be 'mysql', 'postgresql' or 'mssql'.
<li><b>&#36;DBhost='localhost';</b> Host name for your SQL setup. Most likely 'localhost'.
<li><b>&#36;DBname='miniBB';</b> Your SQL database name that you have just created.
<li><b>&#36;DBusr='USERNAME';</b> Your SQL username.
<li><b>&#36;DBpwd='PASSWORD';</b> Your SQL password.
<li><b>&#36;Tf='minibb_forums'; &#36;Tp='minibb_posts'; &#36;Tt='minibb_topics'; &#36;Tu='minibb_users'; &#36;Ts='minibb_send_mails'; &#36;Tb='minibb_banned';</b> Database's table names - for preventing outside hacker attacks, you MUST rename these tables to something else, not like in default miniBB installation. On another hand, these names should not conflict with existing tables, if you have any.
<li><b>&#36;admin_usr = 'ADMIN_USR';</b> Administrator login, is inserted in database also as first engine username. You can change it anytime and update your settings from admin panel (see below). On symbols, there is only one limitation setting admin name: it can not contain "|" sign. This sign is used in board's engine, if you use it, you won't be able to login as admin.
<li><b>&#36;admin_pwd = 'ADMIN_PWD';</b> Admin password.
<li><b>&#36;admin_email = 'admin@email';</b> Admin email (also used as "from" email for all emailings on the forum). Must be correct email. In preferences, you can choose to not show it public (see below), but here you MUST enter it correctly.
<li><b>&#36;bb_admin = 'bb_admin.php?';</b> Admin panel FILENAME - we strongly recommend you to rename default bb_admin.php (administrative file) in a root directory to something else, for security reasons. Parameter must contain question mark at the end.
</ul>
<p>Set very correctly mysql user name, password, host and database. According to user privileges, it must be SUPER-USER, which can also create tables (if you will create them from the web via install from browser).
<p>So, stop now if you're done. We did enough for setup. Next step - you need to create structure of your database.
Transfer all files via FTP or local network to some place on your server. <strong>Use quality FTP manager to do that!</strong> We recommend <a href="http://www.ghisler.com">Total Commander</a>; however, the main purpose is that you should store all files as their are originally, not broken or binary-converted.

<p><a name="install"><b>Install</b></a>
<p>In the main directory, You will find <i>_install.php</i> file and, for mySQL for example, <i>_install_mysql.sql</I> file. "Sql" file is actually your dump. If you have capabilities to make database from SQL-shell, you can run it and insert all tables manually - but <b>we do not recommend it</b>, this is only for real professionals who are knowing what they do.
<p>Run from your browser the <i>_install.php</i> file, it will create all tables according to their names in setup_options.php and insert all necessary values. Usually, it takes 1-2 seconds.
<p>First screen will welcome you to enter setup. Click on "continue". If everything you typed in options file is correct, script will make all necessary tables described in .sql file. If not, pay attention to your config.
<p>After "OK", you can start building your community! Easy, isn't it? But first, <b>DELETE</b> the <i>_install.php</i> file, also as ALL .sql files from directory. We don't need them anymore.

<p><a name="createForums"><b>Creating forums</b></a>
<p>miniBB engine is using cookies for registered users and admin log in. PHP sessions could be used optionally, but we don't recommend it because of weak search engine mechanisms on sessions. Please refer to "logging" section for more info. So, turn on cookies in your browser for that stuff.
<p>Do a login to your admin page. Usually is "bb_admin.php", but since your are renamed this file (did you?..), only you know what is admin panel URL. So, go to that panel, and probably you will be prompted for your admin login and password. Enter them, and you must go into admin panel. If the trouble appears and you're not able to login, double check your cookie path, domain and name, probably change them and, on IIS servers, try to uncomment "$metaLocation" option (see below).
<p>There you will see a bunch of options for your miniBB forums. We will describe them later, but now we need to create some forums. So, click on "Add forum" link and... follow instructions on the screen! We guess, it will be very easy to create some forums.
<p>Our system HAS NO subcategories and possibility to sort forum titles by categories. Possibly because that is really not necessary for some site's medium forum. Let's look at many sites: usually they have 5-6 forum titles, and they are splitted by 2-3 categories. It's more a question of usability: user perceives the information, only if it is given by simple methods. Complicated categorization is not the best solution.
<p>Another side of this question is: "I have so many forums, so they look on the first page like a pack of garbage, that's why I need to categorize them." This is a question of forum policy - and we don't recommend you to create more than 10 thematical forums for 1 site. Usually, 5-6 is REALLY ENOUGH. More forums are scaring users, and incorrectly strong categorization is decreasing board's popularity. Bulletin Board is a place where users can fast and simply post questions and get answers, and it is very bad, if users don't know WHERE to post their message, because in this case they are simply turning out. So, before creating forums, REALLY THINK OUT their structure and minimize forums count as strong as possible.
<p>Also, we don't recommend to give forums "large names". Be as laconic as possible. First, it is more rememberable, second, large names do not fit in topics or threads listing pages.

<p>When you enter miniBB as administrator, you are also logged in as simple user. You can make posts under your name, edit other posts, make deletions etc. We'll talk about it later. Only one: by default, you should also see "admin panel" link beneath every page. And you can automatically reach your panel following this link.

<h1>Customization</h1>

<p><a name="config2"><b>Config: 2nd step</b></a>
<p>At this moment, your miniBB should be running already! Go to index.php and check this. But, there is a lot of other options that probably you want to change. Let's refer to <i>setup_options.php</i> again. Note for PHP newbies: //$a='b'; string actually means nothing, and this setting will not work in any case, because this statement is COMMENTED (two slashes before). Removing slashes means UNCOMMENT or ENABLE this setting. For changing setting, change its content between apostrophes (''). Numerical settings may also not contain apostrophes.</p>
<ul>
<li><b>&#36;lang='eng';</b> Language used in miniBB interface. Just check how your language file in directory "lang" is called (example: eng.php is 'eng', rus.php is 'rus'). By default, only english language file is included. For more language packs, refer to our site.
<li><b>&#36;skin='default';</b> The name of the CSS-skin (in this case, "bb_<i>default</i>_style.css"). Exambles for using skin: 'default', 'light' or 'classic'. For more skins, refer to our site. In many cases, you need to leave the title and edit default skin itself.
<li><b>&#36;main_url='http://www.minibb.net';</b> Direct URL to message board (<b>WITHOUT</b> slash at the end), for email and other stuff (like redirect).
<li><b>&#36;sitename='miniBB forums';</b> Forum's title. Appears on all pages + in emails.
<li><b>&#36;emailadmin=1;</b> Email admin if new topics or replies are posted, also if new user is registered. 0 for no 1 for yes. Replies/topics emails are sent if admin is not the message poster.
<li><b>&#36;emailusers = 1;</b> If 1, users can subscribe to email notification on all topics and posts they make (even if they are not authors of these topics or posts). Recommended only for small and medium forums. If your forums have a lot of visitors and posters, we recommend to turn this to 0. This setting doesn't affect forgotten password sendings and registration password sendings (see below).
<li><b>&#36;userRegName = '_A-Za-z0-9 ';</b> Via registration, users can use only these symbols in their login name. You can add "international" letters (f.e., specific russian symbols under special encoding table). String is based on REGEXP match, so if you are not sure, don't touch it. Also DON'T ADD "|" sign please, and other specific symbols too (especially like &lt;&gt;, apostrophe ' and quotes ").
<li><b>&#36;l_sepr</b> is a symbol to separate some values like menu items. For example, set it to '&middot;' and you'll get small middle dot.
<li><b>&#36;post_text_maxlength='10240';</b> Max characters and spaces allowed in 1 message. Don't set to 0 - then your visitors will not be able to post anything.
<li><b>&#36;post_word_maxlength=70;</b> Max amount of chars, allowed in 1 word. Used for disabling "long URLs destroys your design" thing.
<li><b>&#36;topic_max_length=70;</b> Max amount of chars, allowed in topic title.
<li><b>&#36;viewmaxtopic=30;</b> How many topics to show on one page.
<li><b>&#36;viewlastdiscussions=30;</b> How many last discussions to show on 1st page, 0 disables last discussions (see below what means "last discussions").
<li><b>&#36;viewmaxreplys=30;</b> How many replies to show on one page.
<li><b>&#36;viewmaxsearch=40;</b> Max search results per page.
<li><b>&#36;viewpagelim=50;</b> Max pages you can view in either search, posts or topics list.
<li><b>&#36;viewTopicsIfOnlyOneForum=0;</b> If you have only one forum, topics inside can be automatically displayed on 1st page. 1 for yes, 0 for no.
<li><b>&#36;protectWholeForum = 0;</b> Should we protect all forums by one password? If value is 1, two values below are defined as well. Else set to 0.
<li><b>&#36;protectWholeForumPwd = 'SOME_PWD';</b> Password for protecting the whole forum.
<li><b>&#36;postRange = 60;</b> Antispam: time range in secs. User can not post a message less than after this time. Attention: zero (0) disables antispam!
<li><b>&#36;dateFormat = 'j F Y H:i:s';</b> Date format for displaying in forums. The same syntax as in PHP itself. Textual English month titles defined by 'F' are replaced to months definitions taken from language file.
<li><b>&#36;cookiedomain = '';</b> Cookie domain. Most likely you need to leave this blank, however, if you have problems logging into the forum, set this to your domain name, without the http://. F.e., if your forum is at http://www.mysite.com/miniBB then set this value to "www.mysite.com".
<li><b>&#36;cookiename = 'miniBBsite';</b> Cookie name.
<li><b>&#36;cookiepath = '';</b> Cookie setting. Usually you don't need to change this.
<li><b>&#36;cookiesecure = FALSE;</b> Cookie setting. Usually you don't need to change this.
<li><b>&#36;cookie_expires = 3600;</b> This is the number of seconds that a session lasts for, 3600 = 1 hour, 2592000 = 30 days. The session will exprire if the user doesn't view a page on the forum within this amount of time. If you are experiencing problems with international users, set this to 25 hours.
<li><b>&#36;cookie_renew = 1800;</b> This is the time after which session is sent again; for example, user was logged 
once, then logs again (password is not asked), works and this amount of time is reached. Usually it is not 
necessary to change this.
<li><b>&#36;disallowNames=array('anonymous', 'ass', 'etc.');</b> This feature prevents users from registering forbidden names. In apostrophes, define unwelcomed user registration names. If you are using more than 1 language pack, define here all strings under name &#36;l_anonymous in language pack, else visitor will be able to register under 'Anonymous' name, for example. Case doesn't matter when you define a word. You could also define a word fragment here, so users will not be able to register login name which contains this fragment.
<!--20-->
<li><b>$disallowNamesIndex=array('admin');</b> Combined together with $disallowNames, allows to set list of prohibited usernames which cannot be used via user's registration. The difference is that script checks for a word fragment defined in $disallowNames and <i>exact</i> match with words defined in $disallowNamesIndex. For example, having "admin" in $disallowNames you prohibit users register even the names like "b<i>admin</i>ton". So, put fragments in the first array and exact matches in the second.
<!--/20-->
<li><b>&#36;sortingTopics=0;</b> If 1, topics are sorted by new topics even for anonymous users; else they are sorted by new answers.
<li><b>&#36;topStats=4;</b> Must be either 1, 2, 3 or 4 - correspondly for statistics' Top5, Top10, Top20 and Top40.
<li><b>&#36;genEmailDisable=0;</b> 1 totally disables system email sendings: forgotten password sending and registration password sending, if you enabled &#36;closeRegister (see below). Useful for those who has no sendmail or another program installed on the server.
<li><b>&#36;defDays=365;</b> Default term value which defines statistics for that days period (for example, if you want to show statistics within 1 month as a default value, set it to 30).
<li><b>&#36;userUnlock=0;</b> If it is set to 0, registered user <b>can not</b> unlock his topic again after it was locked (by admin or himself), and vice versa.
<li><b>&#36;emailadmposts=0;</b> It means that admin receives emails only about new user registration. If $emailadmposts is set to 1, admin also will receive notification about every new post. If it is not set, or is equal to 0, admin will not receive those emails, but will be able to subscribe to topics manually.
<li><b>&#36;useredit=86400;</b> Parameter defines number of seconds, after which user WILL NOT BE ABLE to edit his message. By default is 1 day (86400 sec.) If 0 or not set, user will be able to edit his post everytime.
<li><b>//&#36;metaLocation='go';</b> This option should solve login/logout problem which has been experienced by some users on IIS servers and other exotic servers. These servers can not send 2 headers (cookie and location) one after another. Having <b>go.html</b> file (or any other file, cause filename can be set here) in the templates forums directory with meta header in it, you first will visit that file, and then you'll be relocated from it to another place. You can edit go.html if your wish; for now, its structure is very simple and it redirects within 0 seconds, so probably you won't ever actually see it. This option is not turned on by default.
<li><b>//&#36;closeRegister=1;</b> It is possible to avoid "open" registrations, when user registers, he enters desired login/password and from the first step becomes a registered user. Avoid incorrect email address upon registration: if you set this to 1 (default is still 0 or unset), on the registration form user will not see the password field, and will receive it via email (password will be generated automatically). In the user_dataform.html you should have &lt;!--PASSWORD--&gt;&lt;!--/PASSWORD--&gt; tags. Upon registration, the content within them will be removed. When user changes data, they will be shown. Having this option set, you SHOULD set $genEmailDisable parameter equal to 0. And of course you should have sendmail working ok. If you set this option to 1, don't forget to edit registration message <i>$l_goToLogin</i> in language pack, when you should inform the user that he will get his password on email. Alternatively, in your forums manual mention that registered users should enter their correct email address, because password will be sent here.
<li><b>//&#36;timeDiff=21600;</b> Allows you to set time difference between you and server, so all dates are displayed in your time zone. This could be a rare thing and necessary only if you, for example, have server in US and are visiting it from Norway. You need to set up $timeDiff in seconds. Positive 21600 sets up +6 hours of time difference. Note that miniBB is still saving server time into SQL database. This option will only re-calculate the server times in your format. Setting this, of course, will slow down the execution of scripts.
<li><b>//&#36;stats_barWidthLim='31';</b> this setting affects statistics bar length. In most cases, you do not change this.
<!--20-->
<li><b>$dbUserSheme</b>=array(<br>
'username'=&gt;array(1,'username','login'),<br>
'user_password'=&gt;array(3,'user_password','passwd'),<br>
'user_email'=&gt;array(4,'user_email','email'),<br>
'user_icq'=&gt;array(5,'user_icq','icq'),<br>
'user_website'=&gt;array(6,'user_website','website'),<br>
'user_occ'=&gt;array(7,'user_occ','occupation'),<br>
'user_from'=&gt;array(8,'user_from','from'),<br>
'user_interest'=&gt;array(9,'user_interest','interest'),<br>
'user_viewemail'=&gt;array(10,'user_viewemail','user_viewemail'),<br>
'user_sorttopics'=&gt;array(11,'user_sorttopics','user_sorttopics'),<br>
'language'=&gt;array(14,'language','language'),<br>
'user_custom1'=&gt;array(16,'user_custom1','user_custom1'),<br>
'user_custom2'=&gt;array(17,'user_custom2','user_custom2'),<br>
'user_custom3'=&gt;array(18,'user_custom3','user_custom3')<br>
);<br>

<p>This database scheme array describes relations between field names in user_data_form.html (registration, profile) correspondingly to database, and database indexes used in userinfo viewing. So, you can use your own database table for usernames (for example, as another part of your site) and only define relations here. Relation format: [MINIBB DEF] =&gt; array([NUMERICAL_INDEX_KEY],[TABLE_FIELD_NAME],[FORM_FIELD_NAME]); Pay attention that the structure of fields, their types must be default as in miniBB database, for example, user_password must be saved in md5 format. Edit this option ONLY if you are NOT NEWBIE!
<p>How the registration/profile script works: it goes through every [MINIBB DEFINITION], and correspondly parses a $_POST[FORM_FIELD_NAME]. When viewing profile, [INDEX] is taken into consideration. Fields like "user_regdate" or "activity" are not defined by user, so, it is not necessary (and even forbidden) to define them here.
<p>Second password field must be named 'passwd2'.
<p>All values in a form must be named as their fields. Example: field "login" will be valued as "{$login}".
<p>For viewing new or custom fields on User Info page, you need to set corresponding $l_usrInfo variable. Keys of this array are the same as keys for table fields (for example, if key for user_icq is 5, ICQ language definition is $l_usrInfo[5]). user_custom1, user_custom2, user_custom3 database fields can be displayed on the user info page as well you will need to add corresponding values for these to the language pack though: $l_usrInfo[11], $l_usrInfo[12] and $l_usrInfo[13] ,- accordingly. You may also add additional custom fields, naming them so they contain 'user_custom' in the system key definition. In that case, set corresponding $l_usrInfo so it begins from 11. For example, if you have 'user_custom1', 
'user_custom2', 'user_custom_name', 'user_custom_surname' listed in order one by one, $l_usrInfo keys are 11, 12, 13, 14.
<p>If you have enabled email notifications about new user registrations and/or send registration information to user's email, you MUST also fix variables defining user data, in the templates: templates: email_admin_userregister.txt, email_user_register.txt. Variables must correspond to your registration form fields (for example, if you have form field named "email", variable will be {$email}). With default miniBB database structure, no need to change these templates.

<li><b>$dbUserId='user_id'; $dbUserDate='user_regdate'; $dbUserDateKey=2; $dbUserAct='actusr'; $dbUserNp='usr_newpasswd';
$dbUserNk='usr_newpwdkey';</b> Field names that are updated AUTOMATICALLY. DO NOT include them in db scheme list.

<li><b>$enableNewRegistrations=TRUE;</b> If you want to enable new users register themselves; FALSE in another case.
<li><b>$enableProfileUpdate=TRUE;</b> If you want user would able to update their profiles themselves; FALSE in another case.

<li><b>$indexphp='index.php?';</b> The name of your index file; you can rename it to something else if miniBB's index is conflicting with existing site's index name. Don't forget to put "?" after filename.

<li><b>$useSessions=FALSE;</b> If you want to use both cookies and URL-sessions for user logging procedures, set to TRUE (not recommended).

<li><b>$usersEditTopicTitle=TRUE;</b> If you want topic authors may edit their topic's title; else FALSE.

<li><b>$pathToFiles='./';</b> Full file system path to your miniBB files (could be, /usr/home/public_html/forum/ for example, on Linux). Must have SLASH at the end. You may use one copy of general miniBB core, but having just different index and options file, create many communities based on this core. This option also could solve some file including problems on systems like Novell. You can set the full path to the scripts, or leave default if the board is working normally. This option also is necessary if you include your own php header and footer (see below).

<li><b>//$includeHeader='header.php';</b> Uncomment and set alternate header, if you don't want to use miniBB's default main_header.html (useful if you use some header.php from your own site, for better integration).

<li><b>//$includeFooter='footer.php';</b> The same as above, for footer. Don't forget that our copyright link must migrate from our footer to yours in this case.

<li><b>//$emptySubscribe=TRUE;</b> Uncomment and set to TRUE if you want your users may subscribe to the topic without posting some text.

<li><b>//$allForumsReg=TRUE;</b> If you want to make all forums for registered only users by one touch; else FALSE.

<li><b>//$registerInactiveUsers=TRUE;</b> If you want all registered users become inactive until you accept them. Used for manual user activity acceptions. If activity field's value in database is "1", user is able to make new topics, posts and another operations on forum. If "0", user is able only to login, but not use anything. It means his account <i>is</i> in database, but has been blocked for a while. With this, miniBB turns into a powerful anti-flood message board: you can make all your forums for registered users only with one option; you can use only "live" emails, sending registration passwords there, you can set an option to view all new registrations on your email, and even if flooder has been registered, entering his Profile, you as admin or moderator can disable his activity (if you are logged as admin, at the end of member's profile, you will see a cell "Member" and "Yes/No" in it. Clicking on Yes, you enable member status, and vice versa). In combination with sending all new user registration on admin's email, you always will know who was registered on your forums.

<p>If user is registered and not accepted, he will always see a message "You don`t have access to this forum." or something else defined in language's $l_privateForum. Correct this variable according to your needs OR just mention in your forum rules, that user is inactive until accepted.

<li><b>$enableViews=TRUE;</b> By default, miniBB counts topic views, but does it only by simple way, when user opens some topic from the first page. Actually, topic views is not really necessary column, but could be useful for small communities. When counting views, SQL-server makes an UPDATE request; on large databases, it could cause speed problems. So there is also possibility to comment or set this option to FALSE so this kind requests will not happen.

<!--/20-->

<li><b>//$mod_rewrite=TRUE;</b> Set only if you are using Apache server and would to use "virtual addresses" via it in miniBB. Read for more below. Not for newbies!

</ul>

<p>That's all, folks! We did the advanced miniBB setup. After that, your forums will work according to your needs and preferencec. But, you need to do something corresponding to your page's design, didn't you? So, let's go to the next level.

<p><a name="templates"><b>Templates</b></a>
<p>Templates are used to separate HTML code from PHP. They are located in "templates" directory and are usual HTML files (or TXT files - if we talk about email templates). If you don't like our templates, you can change them or design yours. <b>It is important to save all variables</b> (they look like usual PHP "variable variables": {&#36;...}) like shown. Template parser turns every of this variables in its VALUE, giving necessary results.
<p>We don't recommend editing templates with WYSIWYG editors. Try to work with "clear" code, since all PHP variables included in templates will not work in HTML separately. We hope, that it will be enough for you to use any kind of simple text editor with our templates: they are very clean and tide, "hand-made". We tried to make all templates compliant to W3C recommendations. We can't guarantee, that they will work as 100% W3C standart works, but they look the same in different browsers.
<p>If you decide to change templates, you need to refer to the miniBB logic in building them. We hope, all templates names are pretty clear to understand, what they mean. Also, try to leave ALL the variables inside the templates as they shown, else we are not responsible for anything.
<p>Most templates are used in different operations (that's why we call this "<b>mini</b>-BB ). F.e., <i>user_dataform.html</i> is used both for registering new user and editing user preferences, <i>main_post_form.html</i> is used on all posts, topics and editing pages.
<p>It is necessary to pay attention to email templates (begins with "email_" and ends with ".txt"). They have special format: first line of every template should contain <b>SUBJECT&lt;&lt;...&gt;&gt;</b> line, with some text instead of "...". As you understand, between "SUBJECT&lt;&lt;" and "&gt;&gt;" there is subject of email. <b>Don't remove</b> this line, else you emails will be garbled!
<p>In <i>main_header.html</i>, you will find page title as &lt;title&gt;&#36;title&lt;/title&gt;. Don't worry about your forums will containing the same title on each page. Title is changing dynamically according to the page, f.e., on topic page it becomes topic name, and on topic lists it becomes forum name. This is very smart feature for search indexers (like Google or AllTheWeb for example) to INDEX your forum, since these engines are working mostly with page titles. Also, that's why we recommend to think about "right" forum names: as more simple they will be, as better. In this case, also don't forget to include (or change) META-tags in header.

<p><a name="customtpl"><b>Custom templates</b></a>
<p>There is possibility to make a custom template and call it from the script. For example, you need to create separate page before user registration (agreement): you can add any custom template, which is not included in miniBB. Design your template as usual (all script pre-defined variables also work), put it in "/templates" directory and call from the script like:

<pre>
index.php?action=tpl&amp;tplName=custom_template
</pre>

<p>where tplName is a name for your created template (in this case, "custom_template.html").

<p>In that way you can also create stuff like "Most loved topics and answers" with the direct list of topics, any FAQs, manuals, description pages, agreements etc., etc., as like as the WHOLE site! ;)

<p><a name="lang"><b>Language packs</b></a>
<p>For international (non-english) users, we offer "language packs" feature. You can find them on our downloads page. If you have not found a pack for your language, you can fill it yourself and sent it to us. This way, you'll help many users from your country.
<p>Language packs can be found in "lang" directory. Usually, only "eng.php" pack is included for default english language on the board. Language pack name is changed in options file.
<p>Language pack simply contains PHP variables with their values. Note for editors: use ` instead of ' in the sentences, or use slashed apostrophe &#92;'. Technically, it is better to use apostrophes (' ') instead of quotes (" "), because of the engine's speed increase.
<p>We hope, it is pretty simple to understand, what's going on inside of language pack, if you want to change it :). Despite, there are some notes more:<br><br>
<ul>
<li><b>&#36;Lang:English:&#36;</b> string is referred to language "name", which appears in "Language" menu. When making another version of pack, write language name in English between "&#36;Lang:" and ":&#36;"
<li><b>&#36;l_meta</b> tag is META-LANGUAGE value for your html encoding. Usually it looks like '&lt;meta http-equiv="content-type" content="text/html;charset=iso-8859-1"&gt;' where you need to change only charset value. Refer to W3C docs for more info on encoding. Note: if you want users to make posts on different language encodings (f.e., english, russian and latvian on the same forum), make l_meta blank ('').
<li><b>&#36;l_months</b> variable defines array of month names separated by ":". Be sure to include EXACTLY 12 values!
</ul>
<p>Other variables are in assorting order. While working on miniBB, we have added them in "order of appearance". 
<p>Just one more thing: if you will see a string like "Language variables miniBB vX.X", it means that, variables following this string are added or changed for corresponding version. If we add more features, we will also add variables, and for better finding they will be added in another section.
<p>Language packs describe ALL language used in board, incl. admin panel.
<p>Administrator can disable multilanguage feature. For this:</p>
<ol>
<li>Delete <b>&#36;l_menu[8]</b> variable from "main_header.html" menu;
<li>Leave in /lang/ directory only one (default) language, which is set in options file.
</ol>
<p>This prevents users to change language. Even if they type direct www language link, they will be re-adressed to the main page.
<p><b>Important</b>: language pack's filename can have only of 3 letters (examples: eng.php, alb.php, rus.php).
<p>If you have multilanguage forum, it would be a good idea to create many manuals on each language. By default, only manual_eng.html is included. If there is no manual for user's language, empty page will be displayed. 

<p><b><a name="css">Skins: CSS file</a></b>
<p>CSS (cascading style sheet named bb_default_style.css) is designed to fit all font colors, table borders and sizes on the page in one file. It is included only once in <i>main_header.html</i>. It is W3C compliant. You can edit it as you wish, to fit your forums design to your page's design. In our download section, you will find some free examples of another styles/skins. Even if you don't know CSS, it is very easy to change mostly a couple of colors in HEX, fonts and sizes in pixels/points. Some example CSS skins downloadable from our site can also contain icon packages and image backgrounds and it's easy to add your own background to any CSS skin. You can find skin parameter description in CSS file itself - all main parts of it have small notes explaining the meaning of subsequent font/color/border and other parameters.

<h1>Administrative options</h1>

<p><b><a name="panel">Admin panel</a></b>
<p>You can go to the admin panel "by hand", typing in your browser admin panel's filename which you have entered in options file. But usually, you only need to login as admin into forums, and you'll see admin panel link at the bottom of each page.
<p>Admin panel is very small and very simple. Here is the list of options:</p>
<a name="addforum"></a>
<ul>
<li><b>Add forum.</b> We have talked about it earlier. With this operation, you can add forum name, description, icon. Forum icons are displayed near forums table. They are placed in directory /img/forum_icons. Icon should be .GIF or .JPG with the size of 16x16 pixels. Here you just need to type a filename of image WITHOUT directory name. If no image specified, default.gif is loaded.
<a name="editforum"></a>
<li><b>Edit forum.</b> Click on it, choose forum to edit from drop-down list. Editing form appears. You can change forum name, description, and order there. For editing, press "Edit form" button. "Order" means forum's order on the first page. It is NOT the same as forum ID! Below you can see fast preview of how forums will look like. Re-ordering forums is very simple: you just need to choose order value from drop-down list, and update it, by pressing an update button. Forums are sorted in ASCENDING order, so see the preview and give forums corresponding values.
<p>Example: you have 3 forums with order numbers 1,5,9 (it is possible if you did a lot of adding and deleting). You need to order them like "9,1,5". Go to the 9th order, and set it to 1. Then set "1st" order to 5. Then - "5th" order to 9. That's all. 
<p>From this menu you can also DELETE forum. Note that deleting forum will <b>immediately</b> deletes ALL posts and topics corresponding to it. We don't recommend to do that, 'cause there is no way back. If you still need to delete forum, just click on the checkbox saying "Delete forum" and press "Edit". Forum will be deleted and there will be NO ASKING TWICE, so be careful with this thing.
<p>Deleting forums brings us headache, so, if you will never delete forums, open your admin panel file for editing, find the following line:
<pre>case 'editforum3':</pre>
and add <b>after</b> it the following line:
<pre>if(isset($_POST['deleteforum'])) unset($_POST['deleteforum']);</pre>
You should have:<br>
<pre>
case 'editforum3':
if(isset($_POST['deleteforum'])) unset($_POST['deleteforum']);
$forumname=(isset($_POST['forumname'])?$_POST['forumname']:'');
$forumdesc=(isset($_POST['forumdesc'])?$_POST['forumdesc']:''); ...
</pre>
etc. This will avoid forum deleting in any case - even if intruders will know out about your password (we hope this never happens).
<a name="removeuser"></a>
<li><b>Remove user.</b> This immediately deletes selected user. You need to write in <b>user's ID</b>. How to know about that ID? Go to the forums, search for user you want to delete, find user message and mouse over your cursor on member's title below the username. The link will be something like http://.......?action=userinfo&amp;user=243. The last digit (f.e., 243) will be user ID.
<p>Checking box, you can also remove all user MESSAGES and TOPICS (with other user's messages). And all user email notifications, too. We do not recommend to do this. If you won't check this box, only info about registered user will be removed, and all his topics and posts left will be signed as if he is unregistered user (and from now on he will be, actually). See below miniBB users hierarchy.
<p>Note: on large forums, it takes some time to remove user with topics and posts. Be patient.
<p>Programming notes: removing user operation can cause some bad forums security issues(if someone knows your password, of course). For disabling delete, find this line in your admin PHP file:</p>
<pre>case 'removeuser2':</pre>
and add <b>after</b> it the following line:
<pre>if(isset($_POST['removemessages'])) unset($_POST['removemessages']);</pre>
You should have:
<pre>
case 'removeuser2':
if(isset($_POST['removemessages'])) unset($_POST['removemessages']);
$userID=(isset($_POST['userID'])?$_POST['userID']:0);
...
</pre>

<a name="banuser"></a>
<li><b>Ban user IP.</b> We have, basically, the simplest and the strongest bans. They are based on user IP (usual proxies also checked), and prohibit user even to enter forums. For banning user IP, just enter his correct IP (contained maximum 15 symbols, including dots). You can also ban so called IP "mask", entire network. Example: if IP to ban is 191.88.32.12, you can ban all IPs within local network (enter <i>191.88.32.+</i>, or more stronger - <i>191.88.+</i>.
<p>How to know about user IP? Log into forums as admin, and open any thread. In every user message, you will see his IP.
<p>Extended feature: clicking on this IP, you can see a list of usernames, under which posts were made. It is nice option for viewing all "anonymous" user nicknames. This options is also available for moderators.
<p>For unsetting ban on IP, just do "Unset/unban selected IPs" in the admin panel. When you click on this link, a list of all bans is offered. Just check necessary bans and press the button.

<a name="banuserid"></a>
<li><b>Ban user by ID.</b> You can also ban registered users by their ID. This is really useful if, for example, you have forums only for registered members, and someone begins to flood the board. This operation can be done in the same form where you can ban user ID (see above), you need only to enter correct user ID, not IP. You can view user's ID clicking on his "Member" title (ID goes straight after <i>"user="</i> in URL string). You can't ban user with 0 (zero) ID.

<a name="searchusers"></a>
<li><b>Search users.</b> Admin is allowed to search users by ID, username (login) or email, also inactive users (haven't posted anything since registration) and haven't made new posts since defined date. Each record found displays user's login with link to userinfo on the board, registration date, email (even if "hidden") and last reply's post date. In some cases, also found records' count is displayed. Search users results are splitted by pages, if results count is really big.
<p>Searching on ID, you need to enter decimal. Searching on email or login, you need to enter some string. If you do not enter something on ID or login, ALL users list will be displayed.
<p>When searching inactive users, you do not need to enter something. Receiving inactive users list, you can delete many of them by one-time, checking boxes and clicking "Delete" button.
<p>When you search users that haven't posted anything since [date], you need to define this date in YYYY-MM-DD format, which means: "4-digits-year"-"2-digits-month"-"2-digits-day". Script is looking for people, who's last reply date is EARLIER than entered date (not including!). That means, if you enter 2002-03-07, for example, you will look for people, who's last reply was earlier than on 7th March, 2002. People with last reply on 7th March will not be shown, also as "inactive" users, too.
<p>Clicking on [Delete], you can pop-up window with "Remove user" option, where user's ID will be automatically written in form. "Remove user" operation is described above.

<a name="deleteemails"></a>
<li><b>Delete email notifications.</b> If "user emailing" option in your setup is set to 1, it may happen, that some users emails are already "dead". In this case, you, as the administrator, should receive "mailer-daemon feedback" messages saying "Could not deliver message" or something. 
<p>In that case you can simply delete dead emails. To do that, type in an email to delete or simply press button for clearing up the whole table.

<a name="exportemails"></a>
<li><b>Export emails.</b> This operation is necessary, if you want to make a mass-mail for your users. PLEASE, DON'T SPAM YOUR FORUM USERS! You need the email list only for important news, f.e., site's moving to new address, forums reconstruction etc.
<p>You can extract only emails or email+username, use tab separator or comma between these values, and output emails to the screen or separate file attachment. If you've chosen last one you will get a download window after pressing submit button.

<a name="restoreadmin"></a>
<li><b>Restore Admin data in database.</b> This option updates users table and sets new admin password, username and email if you have changed any of these in the options file. Yes, you can change your admin name anytime you want, more so - we recommend to do it regularly.

</ul>

<h1>"Hidden" admin forums options</h1>

<a name="subcats"></a>
<p><b>Forums categories.</b> Since miniBB is designed for small/medium communities, we have not planned to make splitting forums list by additional category. If you have 4-5 forums, there is no need to create categories, because in this case, your forums will look badly organised. However, there is a possibility to create categories for forums. Open your bb_specials.php, and add the variables $forumGroups and $forumGroupsDesc like that:

<pre>
$forumGroups=array(7,3,5);
$forumGroupsDesc=array(
'General forums',
'Visitor forums',
'Other forums'
);
</pre>

Explanation: we will don't touch the structure of forums in database. You can set the order and titles of forums via admin panel. BUT: we need to add "group" before some forum (just try to imagine that, it's not math :). Let's say, we have these forums (example of minibb.net, ID of forums shown on the left - PLEASE NOTE, these are _IDs_ of forums, NOT the _order numbers_ of forums!!!):

<pre>
7 Archive
1 General
2 Support
3 Bugs
4 Suggestions
6 qwerty
</pre>

Then, we want to "add group" for forums Archive, General and Support (it will be "General Forums"), Bugs and Suggestions ("Visitor Forums"), qwerty ("Other forums"). $forumGroups array contains forum IDs, BEFORE which will be placed a group description (taken from template above). $forumGroupsDesc array contains consecutively descriptions of these groups.

So, on the first page we will have:

<pre>
General forums
  7 Archive
  1 General
  2 Support
Visitor forums
  3 Bugs
  4 Suggestions
Other forums
  6 qwerty
</pre>

The same will happen in "dropdown" menus, when you view posts or topics.


<a name="privateforums"></a>
<p><b>Private forums.</b> Only site owner can define private forums and users which are allowed to post and view them. Edit bb_specials.php file, find variable <b>&#36;clForums=array();</b> and add <b>&#36;clForumsUsers[]=array();</b>. clForums array defines closed forums ID(s), and clForumsUsers[] elements defines users which are allowed to post in this forum. Oh, sounds too difficult, here is an example:</p>
<pre>
&#36;clForums=array(1,3,6);
&#36;clForumsUsers[1]=array(2,5);
&#36;clForumsUsers[3]=array(10,11);
&#36;clForumsUsers[6]=array(12,22);
</pre>
<p>That means: forums with IDs 1,3,6 are private. Users with IDs 2 and 5 are allowed to post and view forum under ID 1, users with IDs 10 and 11 are allowed to post and view forum under ID 3, users with IDs 12 and 22 are allowed to post and view forum under ID 6. It seems a little bit difficult, but usually site has only one private forum and 5-10 allowed users, thus not everyone needs this feature - that's why we have not implemented graphical interface for it.
<p>If you don't want to have private forums, leave these arrays blank (but don't remove them!).
<p>Note: topic titles from private forums don't appear on statistics, last discussions, user info and search pages, and first forums page, too. Anyway, is allowed user or admin is logged, they will appear everywhere.
<p>Note 2: it is not necessary define admin ID (1), because admin can enter any private forum and has full access to it.

<a name="archiveforums"></a>
<p><b>Archive forums.</b> Site owner can create so called "archive" forums. Edit bb_specials.php with array variable <b>&#36;roForums</b> in it. Like in private forums (see above), add read-only comma-separated forums IDs into this array. In read-only forums, nobody except admin can make or edit posts.

<a name="postforums"></a>
<p><b>Post-only forums.</b> Site owner can create so called "post-only" forums. That means, users can do anything except for creating new <b>topics</b> in these forums. It is very useful, if you combine your forums with guestbook or news flash, for example. Edit bb_specials.php with array variable <b>&#36;poForums</b> in it. Like in private forums (see above), add read-only comma-separated forums IDs into this array. In post-only forums, no one except admin can make or edit topics.
<p>Example:</p>
<pre>
&#36;poForums=array(1);
</pre>
<p>That means, forum with ID 1 is "post-only".
<p>If you have "post-only" forum as guestbook, for example, or just want to redirect user to some thread exactly when he is clicking on forum's title to view topics, you can define it in bb_specials.php as $redthread array. Example from our forums:</p>
<pre>$redthread=array(8=&gt;355);</pre>
<p>means when user visits some forum with ID 8, he will redirected to the topic with ID 355, so the full URL will be like <i>action=vthread&amp;forum=8&amp;topic=355</i>. This is optional feature, it is not necessary to include this array if you don't need it.</p>

<a name="userrankings"></a>
<p><b>User rankings.</b> miniBB doesn't use ranking system (user ranks like 'Administrator', 'Member' are displayed only, and if it is anonymous user, nothing is displayed). But it is possible to define special user rankings, for "special" members (for example, most-active-poster-of-all-time). Open bb_specials.php for that, find &#36;userRanks array, and edit it. It is based on PHP syntax, so let's give an example with no more talk:</p>
<pre>
&#36;userRanks=array(1=&gt;'Boss', 17=&gt;'Team member', 9=&gt;'Team member');
</pre>
<p>That means, user's rank with ID 1 is Boss (of course! :), and users with IDs 17 and 9 are "Team members". These rankings will be displayed under nickname in every post. In this way, you also can define so called "avatars" (just use your imagination, how to do that).

<a name="reguserforums"></a>
<p><b>Registered-users-only forums.</b> These forums mean, that only registered (and logged correspondly) users can make new topics, new posts and edit their messages here. Variable &#36;regUsrForums=array(); in bb_specials.php means array of forums IDs which are protected.
<p>Example:</p>
<pre>
&#36;regUsrForums=array(1,2);
</pre>
<p>That means, forums with ID 1,2 are only for registered users.

<p>In a case of registered-user-only forums, the post-topic or post-thread box with login information WILL APPEAR even if user is not logged in. User will be able to enter his login/pass to make a post. Anonymous or incorrectly logged users will be informed with "Access denied" message. In many cases, they can loose the information they typed, so please <b>warn</b> users of your board someway, that they must register before making any post!

<a name="modsarray"></a>
<p><b>Moderators definition.</b> Moderators are people who can help admin in managing forums (read more in <a href="#moderators">moderators</a> section. Variable &#36;mods=array(); in bb_specials.php defines the the array of forum/user IDs which have moderators possibilities.
<p>Example:</p>
<pre>
$mods=array(
1=>array(9,996),
2=>array(9)
);
</pre>
<p>means that user with ID = 9 is the moderator for forums with IDs 1 and 2, and user 996 is moderator for forum 1.
<p>Moderators have access only to specified forum.

<p>Displaying list of moderators is available on the first forums page. In default version, it is hidden. If you want to display this list, in HTML template <i>main_forums_cell.html</i> add variable {$moderatorsList} (for example, directly after {$forum_desc}). It will display usernames of moderators for current forum. If there is no moderator specified, nothing will be displayed.

<a name="exlastdisc"></a>
<p><b>Excluding last discussions.</b> If you want to exclude some forum from "Last discussions" list, you can set it in the bb_specials array $lastOut. For example: <b>$lastOut=array(6);</b> excludes forum with ID 6 from "Last discussions" list on the first page. It's not necessary to add this new value if you don't need this.

<a name="sorthread"></a>
<p><b>Sorting specific thread in DESC order.</b> You can specify the ID of the thread (topic), which messages can be sorted in DESC order. By default, every thread is sorted in ASC order. Specially useful for questbooks. For this, set new array in your bb_specials.php file:<br><br> <b>$themeDesc=array(THREAD_IDs);</b> <br><br>where THREAD_IDs can be array of IDs of topics. For example: </p>
<pre>$themeDesc=array(355,11);</pre>
<p>will set DESC order for topics with ID 355 and 11.</p>
<p>Note that this option will not affect page listing in last discussions and topics list. When some topic is splitted by pages, last replies will be available when you click on topic's title. If you have such kind of sorted thread (like guestbook), it is better to exclude it from last discussions and set the exact redirect (see <a href="#postforums">"Post-only forums"</a>).
<p>When you set this kind of topic, near its title, users will see an icon from /img/topic_reverse.gif.

<a name="deletemessages"></a>
<p><b>Deleting messages.</b> Only admin is allowed to delete user messages. Admin needs to be logged into the system. For deleting any message, go to the topic/thread list and click on "Delete" on the top of the message.  JavaScript alert should appear; click "Ok", and the post will be deleted. After delete, message is not available for recovering.
<p>NOTE: you can not delete FIRST message of the topic. That's because the first message in thread list is TOPIC TEXT in reality. If you want to delete first message, it means you want to delete the WHOLE TOPIC. For this, see "Deleting topics".

<a name="deletetopics"></a>
<p><b>Deleting topics.</b> Only admin (or moderator) is allowed to delete user topics. Login, go to the bottom of topic page. You will find something like "Delete topic". Click on it. JavaScript alert should appear; click "Ok", and topic will be deleted, with all associated posts, too. Click on "Cancel", and you'll keep the old things. After delete, topic is not available for recovering.

<!--20RC2--><p><i>"Cleaning up the board"</i> solution. When your board runs for a big time, you'll probably want to remove some old necessary topics. miniBB has a smart solution build-in, how to do it easy (beginning from version 2.0 RC2). Login as admin and in your Preferences, set default sorting to "New topics", then go to some forum, which you want to clean-up, and go to the last page of topics within this forum. Another words, begin the cleaning from the oldest topics to the newest topics. Go inside some topic, review it, and if you find it unnecessary, delete it as described above. After that, you will be redirected to the page where topic was previously found; near next topic that you need to check, you will find a little mark '&raquo;'. This will help you to not lose the last topic you stayed on.

<!--/20RC2-->

<p><a name="editmessages"><b>Editing messages.</b></a> Board administrator can edit any message from the forum at any time, plus, if it is "new topic text", he can edit also topic title. Moderator can edit any message within allowed forum at any time, and also change topic's title. For editing the message, click on "Edit" link on the top of each message in posts list (it appears when allowed person is logged in).
<!--20RC2-->
<p>When editing message, admin or moderator can choose, either this message could be edited by user after, or not. Beginning from version 2.0 RC2, by default, all messages become opened for further editing; however, checking the box marked as "<s>Edit</s>", admin or moderator can disable this.
<!--/20RC2-->
<p>Message author can edit topic's title only, if administrator has set necessary option (see above).

<a name="movetopics"></a>
<p><b>Moving topics.</b> Only administrator can move topics from one forum to another. Moving topics is a specific operation, we don't recommend to do it often (since many users will not understand what's going on). Do it only if topics thematics is not the same as the one of a forum. After decision, login as admin, go to the bottom of the topic page, click on "Move topic" and move topic correspondly to the forum you want. You can move topic only to the "another" forum, else there is no sense for this action (don't move topic to the same forum). When moving topics, only forum info is updated, nor datetime or anything. If topic is moved from one closed forum to another, and subscribers are NOT in this forum, their subscriptions will be DELETED.

<p><a name="locktopic"><b>Locking topics.</b></a> This is very smart "censorship" operation, which prohibits users from making new posts in special topics. For locking topic, log in as admin, go to the bottom of each page. You will find kinda "lock topic" link. When you press it, topic will be locked. On an old place instead of "lock topic" you should see "unlock topic" link. Click on it, and topic will be unlocked.
<p>Both topic's author (if he is a registered user) and admin can lock/unlock topics. Even if admin has locked this topic, registered author can unlock it - if the corresponding value not set in your options (see above).

<p><a name="stickytopic"><b>"Stickying" topics.</b></a> "Sticky topic" means the topic, which will be shown on the top of the topics list <i>every time</i>. This is useful for some announcements or really hot discussions, which you want to present first. Sticky topics appear ONLY in topics list. Last discussions page stays untouched! Last discussions is actually fresh meat, there is no necessarity to show sticky posts every day, in the time when new stuff is going.
<p>Sticky topics are available for setting both for admin and moderators. For stickying topic, go to the bottom of the thread and find the "Make sticky" link. Just click on it. When the topic is already sticky, you will find the "Make unsticky" link.
<p>Sticky topics also can be locked. If you lock sticky topic, and then unlock it again, the sticky status will be kept, and vice versa.

<p><a name="subscriptions"><b>Viewing subscriptions.</b></a> Entering topic, logged admin can view which users are subscribed to this topic ("Subscriptions" link). Entering view panel, admin can also delete unwanted subscriptions, checking boxes near user's email.
<p>Note: if there are no subscriptions, link will not appear.

<p><a name="adminprefs"><b>"Preferences" for admin</b></a>
<p>Actually, admins preferences doesn't change anything special. As usual user, Admin can go to that panel and edit something, but all forums-working datas (Admin email, login and password) are taken from options file. In the admin panel, you will find operation called "Restore Admin data in database", clicking on it, you will automatically copy (or insert) your options data to corresponding Admin field in database. Then you can choose another email and other stuff (ICQ, for example) that will be shown on the "about user" page. So, your email shown in the above mentioned user info page can be independent on the email in the setup options file.
<p>If you are using "Direct email" plugin, you can set another email for emailing admin, so you can have 2 different emails for system messages and direct user emailing.

<h1>Moderators</h1>
<p><a name="moderators"><b>Concepts and possibilities</b></a>
<p>In miniBB concepts, moderators are people who can:</p>
<ol type=1>
<li> Lock, unlock, delete and move any topic - the same way as admin;
<li> Edit any message (with topic's title) - the same way as admin;
<li> Post a new topic in post-only forum;
<li> View poster IP (and view all users that have posted under this IP).
</ol>
<p>Moderators have no admin's privileges and have no access to the administration panel.
<p>Moderators privileges are splitted by forums. 
<p>Each moderator can be defined only by administrator in bb_specials.php file (see above).
<p>Each moderator has special description near his nickname (defined in &#36;l_moderator variable in language). If moderator has special rank, his rank will be displayed instead of it.

<h1>Forums-wide user options</h1>

<p><a name="hierarchy"><b>Users hierarchy</b></a>
<p>There is "liberal" users hierarchy in miniBB. Topics can be made both by anonymous users and registered users. Let's see what happens.
<ul>
<li><b>Anonymous users.</b> If you are lazy, or do not register for some reasons, you can make anonymous post, even under your usual nick, if it's not taken by another already. Simply type your username in "Login" field without password, and make a post under this name. If you leave both fields blank, your name automatically will be "Anonymous" (it depends on forums language setup even). However, if you will enter the nick which corresponds to any registered user you won't be able to post. This feature is only available, if forum's administrator has not set the forums for registered users.
<li><b>Registered users.</b> WE STRONGLY RECOMMEND all users to register - in any way, will you visit this forum often or not. Why? First, no one else will take your "unique" username/nick, and anonymous users will not be able to post messages under your nick. Second, if you will post some messages under your nick, and register it later, it is NOT POSSIBLE to edit these "anonymous messages" anymore. And finally, any registered user can take your "anonymous" or not registered nick simply by filling registration form.
</ul>

<p>User info is displayed on the separate page. On the threads page, you'll find only user's nick and, if this user is registered, a "member" beneath. Clicking on it, you'll get all possible info about user, which either is specified/allowed or not (see below). NOTE: by clicking on user's nickname, you "quote" his nickname in the reply form!

<p><b><a name="userlogin">User's login</a></b>
<p>Users must have cookies enabled in the browser. Cookie passwords are saved in encrypted format. User login form is located on every topics or threads page, as well as on the first page. On the topic or thread pages, you are able just to log-in without posting any text. You need to type your login and password correctly.
<p>Depending on forums setup, user login can expire in different time. Usually it expires within 1-2 hours, but administator can also make more longer expire (especially on international forums). Cookies renew mechanism also allows users to stay logged during longer periods of time - until the browser is closed. Anyway, we recommend to do logout before you are leaving forums.
<p>Anonymous users also receive cookie that goes from one page to another. Enjoy comfort!

<p><b><a name="userlang">User's language</a></b>
<p>Registered users can change their board's interface language in their profile, choosing from dropdown list. However, administrator of multilanguage board also can set some links for anonymous users, so they will be able to view the board on desired language. For this, you need to put the link containing variable "setlang" and the value corresponding to the language file name. Example: http://.......index.php?setlang=rus will display board in Russian; however this setting will not affect logged-in user.
<p>Language change is working only in forums interface. Email notifications are sent to user on default forums language.

<p><b><a name="registration">User's registration</a></b>
<p>For registering, just click on "Registration" menu and fill in the form.
<p>Necessary fields are:
<ul>
<li><b>LOGIN:</b> your username, must be unique - if a user with the identical login already exists, you won't be able to register. Login must contain only symbol combination defined by admin. Usually, we recommend to use only A-Z letters, digits and maybe "_" sign. But, if admin defines more symbols, you can also use them. There is only one possibility to view defined symbols - to make a mistype in username. Then you will see them in error message. Anyway, don't choose "exotic" usernames - at least, it is stupid. You can use a name with length from 3 to 40 symbols.
<li><b>PASSWORD:</b> your password for BB. Must contain only A-Z letters, digits and "_" sign (no spaces!). You can use password with length from 5 to 32 symbols. Why exactly 32? We don't know ;) If seriously, try to use not more than 10 symbols.
<li><b>PASSWORD ONCE AGAIN:</b> this must be the same symbol combination, as the "PASSWORD". This is just for checking - have you entered password correctly, or not. Pay attention: all passwords are saved in encoded way. There is no possibility to view user password even by admin! Despite you can anyway receive new password via email, but it will be different from your orignal one (randomly generated).
<li><b>EMAIL:</b> your email. Must be also unique (no 2 users with the same email are possible). Email is checked by simple regular expression for avoiding "stupid" emails. If you can't register some email, please report to admin, or at least, miniBB team. Even we have checked this combination in many cases, there are some "exotic" emails that can not be validated with our function. But this is a rare thing.
</ul>

<p>Depending on what option current forum has, you can be registered just after filling the form, and can login to forums straight forward after it. Otherwise, if administrator has set avoiding of open registration, you'll need to check for the password your email first. When open registrations are forbidden, your password will be generated by the system, that's why you need to enter the correct email-address.

<p><b><a name="newposts">New topics and replies</a></b>
<p>New topic form is placed at the bottom of each topics listing page. You need to type topic's title ("New topic") and body ("Message"). At least, "New topic" field must be filled in. If you write in it and don't write in "Message", message will be automatically equal to topic's title.
<p>New post form is located at the bottom of each threads page.
<p>Note: if the anti-spam protection is enabled (usually it is), you can make posts and topics only once-per-defined-time. Usually, this time is 1-2 minutes - and it means, you can make posts not often than 1 per 1-2 minutes as well.
<p>Note 2: before making a post, make sure you have corresponding ENCODING for this. F.e., if you have to make post on non-english language, let's say, chinese, be sure your browser encoding is set to it. To do it:</p>
<ul>
<li>In Internet Explorer, click the right mouse button on the screen, choose "Encoding", and then set it;
<li>In Netscape Navigator/Opera, choose menu's "View" -&gt; "Character Set (Encoding)" and then set it.
</ul>
<p>Note 3: text breaks (newlines+carriage returns) are automatically converted to "physical" breaks.
<p>Note 4: don't use a lot of apostrophes, quotes and specific tags in your messages. Actually, they are converted to "real" HTML-tags like "&amp;#039;" (apostrophe), "&amp;amp;" (&amp; sign) etc. As you see, HTML special char takes at least 4 times more space than usual symbol. So, if topic's title limitation is set, let's say, to 70 symbols by administrator, your sentence can contain maximum 17 special symbols. Practical example: your topic is "Quick brown fox jumps over lazy dog's ears &amp; nose" (49 symbols). Actual title is converted to: "Quick brown fox jumps over lazy dog&amp;#039;s ears &amp;amp; nose" (58 symbols). If the limitation would be 50 symbols, the sentence would be cutted to "Quick brown fox jumps over lazy dog&#039;s ears" (minus "nose" minus 5 special-symbols).

<p><a name="emailNotifications"><b>Email notifications</b></a>
<p>Email notifications can be enabled or disabled by forums admin. Usually, on large forums they are disabled. If enabled, every user who makes a post, can subscribe to them. Alternatively, there us also a way to make notifications available without posting some text. Notifications are sent to user's email when someone replies to the topic after this user. Users can subscribe to notifications even if they are not topic authors. Users can also unsubscribe from notifications. For that, got to the desired topic and find "Unsubscribe" link instead of notifications checkbox, and just click on it.
<p>Note: notifications are sent on default board's language, even if user has choosed another available language.

<p><b><a name="highlight">Automatic links highlighting</a></b>
<p>If you are using links like http://www.minibb.net (beginning with "http://", "https://", "ftp://", "www" or "mailto:"), they are automatically converted to "real" links. But, when checking "Disable" box, links ARE NOT automatically highlighted, both as BB-codes (see below).

<p><b><a name="bbcodes">BB Codes</a></b>
<p>In miniBB, there is no possibility to include HTML in topics or posts. They can contain only "BB-codes" - special HTML-code replacements, that "emulate" HTML code. Since HTML is not supported in our board, most popular BB-codes are good alternative when posting new message or topic. Currently, miniBB supports following codes:

<ul>
<li><b>[url=</b>SOMEURL<b>]SOMETEXT[/url]</b> where SOMEURL is URL like http://www.minibb.net, SOMETEXT is alternate text to URL. DON'T USE QUOTATION MARKS OR APOSTROPHES INSIDE THIS TAG. In a post, these tags are replaced like following:
&lt;a href='SOMEURL'&gt;SOMETEXT&lt;/a&gt;.

<li><b>[email=SOMEEMAIL]SOMETEXT[/email]</b> where SOMEEMAIL is email you want to highlight. Practically, this tag is the same as URL, only with "mailto:". DON'T USE QUOTATION MARKS OR APOSTROPHES INSIDE THIS TAG. In a post, these tags are replaced like following:
&lt;a href='mailto:SOMEEMAIL' target='_blank'&gt;SOMETEXT&lt;/a&gt;.

<li><b>[img(left|right)]http://www.someserver.com/images/image.gif[/img]</b> where http://www.someserver.com/images/image.gif is exact URL for an image file (.JPG or .GIF). Alternatively, you can use "left" and "right" tags (without trailing space!) followed exact after "img". They place image left or right on the page, in the same way like HTML does. Usually, only [img] tag is used, but in systems like "forum news" you can also use left/right aligns. This tag is replaced with: &lt;img src='http://www.someserver.com/images/image.gif' border='0' align='left OR right OR nothing' alt=''&gt;. (Example: [imgleft]http://www.someserver.com/images/image.gif[/img]) Note: because of hack protection, you can include images only from http:// servers, also as with only extensions like .gif or .jpg.

<li><b>[b]Bold[/b]</b> where "Bold" is the text you want to markup as in a "bold" style. Example:
[b]Attention[/b] produces <b>Attention</b>.

<li><b>[i]Italic[/i]</b> where "Italic" is the text you want to markup as in an "italic" style. Example:
[i]I apologize[/i] produces <i>I apologize</i>.

<li><b>[u]Underlined[/u]</b> where "Underlined" is the text you want to markup as in an "underlined" style. Example:
[u]Don't write me an email[/u] produces <u>Don't write me an email</u>.

</ul>

<p>Note that the case of BB codes doesn't matter. You can type "[URL]" or "[uRL]" or whatever. Only opening and closing tags ([urL]...[/uRL]) are important, also tags CAN NOT CONTAIN SPACES!
<p>There is no necessary to know exactly what do you need to type for corresponding tag. Each template message form contains JavaScript <i>buttons</i> that helps you to insert these tags into your post. 
<p>Both anonymous and registered users can use BB-codes, but also you can DISABLE BB-code in your post, checking "Disable" flag. Usually this is not necessary, because BB-codes allow posts be more organized and good-looking messages. But if you need to post something using not BB-code, but actual info containing BB-code, it is useful. For avoiding BB-codes, you can also put spaces inside them.

<p>It is possible to combine tags with each other, f.e., to make "bold+italic" or "bold link". But be careful again with opening and closing tags correspondly. Example:

<hr size=1 width="100%">

<p>'This General Public License [b]does not permit[/b] incorporating your program into proprietary programs. If your program is a subroutine library, you may consider it more useful to permit linking proprietary applications with the library. If this is what you want to do, use the GNU Library General Public License instead of this License. 

<p>Return to [url=http://www.fsf.org/home.html]GNU's home page[/url]. 

<p>FSF &amp; GNU inquiries &amp; questions to [email=gnu@gnu.org]gnu@gnu.org[/email]. Other ways to [b][url=http://www.fsf.org/home.html#ContactInfo]contact the FSF[/url][/b]. 

<p>Comments on these web pages to [email=webmasters@www.gnu.org]webmasters@gnu.org[/email], send other questions to [email=gnu@gnu.org]GNU[/email]. 

<p>[b][u]Copyright notice above[/u][/b].
<p>[i]Free Software Foundation, Inc[/i]., [i][u]59 Temple Place - Suite 330, Boston, MA 02111, USA[/u][/i]'

<hr size=1 width="100%">

produces:

<hr size=1 width="100%">

<p>'This General Public License <b>does not permit</b> incorporating your program into proprietary programs. If your program is a subroutine library, you may consider it more useful to permit linking proprietary applications with the library. If this is what you want to do, use the GNU Library General Public License instead of this License. 

<p>Return to <a href="http://www.fsf.org/home.html" target="_blank">GNUs home page</a>. 

<p>FSF &amp; GNU inquiries &amp; questions to <a href="mailto:gnu@gnu.org">gnu@gnu.org</a>. Other ways to <b><a href="http://www.fsf.org/home.html#ContactInfo" target="_blank">contact the FSF</a></b>. 

<p>Comments on these web pages to <a href="mailto:webmasters@www.gnu.org">webmasters@gnu.org</a>, send other questions to <a href="mailto:gnu@gnu.org">GNU</a>. 

<p><b><u>Copyright notice above</u></b>.
<p><i>Free Software Foundation, Inc</i>., <i><u>59 Temple Place - Suite 330, Boston, MA 02111, USA</u></i>'

<hr size=1 width="100%">

<p><p>If you need to post 100% "tagged" URL, it is better to do it with tags, since automatic replacements can't work in some cases. F.e., the following example will not work: [b]http://www.minibb.net[/b]. It is only "bolded", but not "highlighted". For bolding url links, use [url] tag.
<p>Note: you can use tags also for multi-line text. Example:
<p>[b]Text1
<p>Text2[/b]
<p>(text contains two paragraphs) produces:
<p><b>Text1</b>
<p><b>Text2</b>


<p>ADVANCED: Admin can use "<b>color tags</b>" for various text colors in messages:</p>
<ul><li><b>[font#(HEX-COLOR)]Colored Text[/font]</b></ul>
<p>This option is not available for simple users, because of its restrictions and format. Do you want your forum to look like a rainbow? We guess, not. Please, use this code very carefully and only when it is really necessary. As admin, you can use ONLY correct hex-code of color, containig combination of 6 capitalized letters A-F + digits 0-9. "#" sign at the beginning is necessary. Values like "red", "yellow" won't work. Example:
<p>[font#FF0000]Attention![/font]
<p>produces red-colored "<font color=red>Attention!</font>".
<p>These examples will not work:
<ul>
<li>[font#ff0000]Attention![/font] (non-capitalized)
<li>[font#red]Attention![/font] (non-hex)
<li>[font#F000]Attention![/font] (only 5 letters - incorrect)
</ul>

<p>By default, there is no "hot button" for this option in the templates.

<p>Users also can use any HTML decimal codes in their messages. This is done mostly for international forums, when user's encoding is set to different language, in which he posts a message. You can use any code beginning from "&amp;#" and ending with ";". For example, it is useful for displaying both BB-codes with their interpretators. This:
<pre>
[b]Use bold[/b]: &amp;#91;b]Use bold&amp;#91;/b]
</pre>
<p>will produce:
<b>Use bold</b>
[b]Use bold[/b]
<p>Note that decimal codes are not replaced back, when you edit your message. They are displaying like they are.

<p><b><a name="quoting">Quoting messages</a></b>
<p>Topic posters can quote other messages. There is no "quote" BB-code included, as on some bulletin boards. Instead of it, you can use "italic" style to separate quotes. For better comfort, there is a "quote" link near every post made. For making a quote, you need to select some text and press this link. Selected text will be automatically inserted into reply box at the bottom of the page.
<p>This feature is based on JavaScript code and works only in Netscape 4.9, Netscape 6.x and Internet Explorer 5.x-6.x.

<p><b><a name="userlocktopic">Locking topics</a></b>
<p>Topic authors can lock their topics, if they think it is correct. In order to do it, topic author needs to be logged in. At the bottom of the topic's page he must see small "lock topic" link. Clicking on it, topic becomes closed.
<p>Nobody except topic author or administrator can lock the topic. If topic was locked by admin, topic author can unlock it ONLY if it is defined in forum options (in most cases it's not).

<p><b><a name="editmessage">Editing messages</a></b>
<p>Registered users (and only registered) can edit THEIR messages, but only if they are cookie-logged and only if the time of the message is not expired. For this, just click on "Edit" near each post (if it is your message, you'll see the link, else not). When editing message, "automatic highlights" are replaced with "real" BB-codes, so there is no need to delete them once again. Also, "real" HTML tags are replaced back to codes. Via editing, user can add new BB-codes, links etc. - like in any new post or topic. User can edit only his POST, not topic's title, even if he is the author of the topic. After message is edited by user, info about that is displayed near each post.
<p>There is no way to delete your message (and if not allowed, to edit topic's title), if you are topic's author. Only admin can do this.
<p>In some cases, after administrator has edited user's message, for user, it is no way to edit it once again.

<p><b><a name="userprefs">Editing preferences</a></b>

<p>For editing user preferences, you need to log in and go to the "preferences" appearing in menu. You can type new data for your account, except login, that can not be changed. If you don't want to change your password leave the password field and go next to the fields you want to edit, you don't need to write your password once more, 'cause are already logged. Then done just press submission button below.
<p>This action works exactly like registration: you need to type grammatically correct data. Thus, you can not change your email to the one of someone who already registered (incl. admin's email ;) ). Updating preferences, you don't need to enter password, if you don't want to change it. Just leave these fields blank.
<p>Two exceptions: 
<ul>
<li><a name="viewemail"><b>Show email public?</b></a>: that option allows (or not) other users to view your email in user info. It does not affect emailing notifications etc.
<li><a name="sorttopics"><b>Sort topics by</b></a>: that option switches sorting filter. On topics and last discussions pages, you can view topic names sorted by new topics or new posts. This is one of the points of why to register: logging into the forums, you can quickly view, what's new. This option is saved on all pages, since anonymous users will need to click on "sort" every time.
</uL>

<p><b><a name="changepassword">Changing user password</a></b>
<p>Login, go to the preferences, type new password 2 times in "password" fields. Your password will be updated to the new one.
<p>Note: after changing password your old password will not be valid, and you will need to re-login on the login page. If you will edit more settings, you'll get the message "not allowed" or something similar.

<p><b><a name="forgotpassword">Changing forgotten password</a></b>
<p>miniBB passwords are encrypted using MD5 algorithm. You can decode MD5-hash only with special hacker tools, using forces or dictionaries; it is impossible to decode it in "easy way". As longer password you have, as it more difficult to encode it. If you have forgotten your password, PHP-script can't restore it anymore, but instead, it generates new random password.
<p>Follow these steps to receive new password:
<ul>
<li>Click on "password" links near login form;
<li>Enter an email you've mentioned in the registration form;
<li>If your email is correct (we hope, yes :) you will receive further instructions via email;
<li>Follow link described in email and confirm your password;
<li>Only(!) after confirmation, your password will be changed. You will be able to change it to something "human" in "preferences".
</ul>

<p><b><a name="search">Forums search panel</a></b>
<p>You can quickly search forums for keywords. Search panel is placed under the "Search" link in menu. You can search text in topics and posts, in topics only, in poster names, in specified forums, by all words, any words or the whole phrase. Search results are sorted by post time in descending order (new posts are shown first).
<p>Also remember that search phrase length can`t be more than 100 symbols. Also minimum length of any word is 3 in "Any words" type of search and at least one word must be more than 2 symbols in any other type of search. This was made to protect your server in case, if somebody will try to attack it with lots of simple search queries, like, for example, searching letter "a" in all posts and topics, which will lead a large number of search results to be returned by database server, thus it can become overloaded.
<p>There is also more complicated search. You can choose "match whole words" option which actually means you will search only WHOLE words (if you type "nick", the sentences containing "nick" will be found, but not such words as "nickname" or "snickers"). Also, you can search within defined period of days, when posts were made. If you want to expand your search, it is always better to set this to big amount, f.e., of 365 (1 year) days. Note that searching for username is <b>NOT</b> affected by this "search-within-days" option.
<!--20--><p>Search within specified forums is also available. You can either search in all forums or choose a forum you want to search in.<!--/20-->
<p><b><a name="stats">Statistics</a></b>
<p>In the "statistics" menu, you can get all available information about forums. This is the most "not needed" part of a forum. In statistics, you will find:
<ul>
<li>Total amount of registered users (except admin);
<li>Total amount of topics;
<li>Total amount of posts;
<li>Who moderators are;
<li>Who is administrator;
<li>Who is last registered user;
<li>Most popular topics list (top 5, top 10, top 20, top 40), which is generated according to how many answers were posted in topic;
<li>Most active registered users list (top 5, top 10, top 20, top 40).
</ul>
<p>You can define period of days which will be used in calculating stats (this setting affects only most popular topics and most viewed topics, username stats are <b>NOT</b> affected).
<h1>Some notes for developers</h1>
<p>Please, don't read this section if you are unfamiliar with PHP, mySQL and programming at all, more so - DON'T try described below. We are not giving additional support on these topics. They all are working like described; if something is not working on your side, miniBB is not the reason here.

<p><b><a name="dbmodules">Database modules</a></b>
<p>Default version of miniBB is supported only by mySQL database. Anyway, we have developed special SQL-functions module which contains basic SQL-functions, which could be extended by another databases, supported by PHP. We plan to work on it in near future, but every developer who can help us in making another DB module is welcome. You'll get all necessary credits.
<p>Making a DB module is average simple. Since SQL functions are mostly the same (at least, by logic), in many cases you just need to make another database connection which is supported by PHP, and design database request if necessary. SQL requests mostly are parsed into array pointers, which can be accessed, f.e., via mysql_fetch_row() function. Probably, most databases can support this operation. In other words: just look, how mySQL parser works, and include other commands. Note: don't change names of variables, like &#36;result or &#36;sus, because some are called from the outside script.

<p>Below are described miniBB general/universal functions available in setup_<i>my</i>sql.php and prepared for programmers who want to extend plugins via this SQL-module separately.

<p>string <b>makeLim</b> (int page,int numRows,int viewMax)

<p>Returns SQL-string like "limit 10,20" prepared for inserting in SQL-request. If page=0, returns only single like "limit 10" string. numRows is the amount of total database request rows received via request. vieMax is the maximum amount of rows should be displayed (set in setup_options.php).

<p>string <b>getClForums</b> (array closedForums, string more, string prefix, string field, string syntax, string condition)
<p>Returns SQL-string like "where id=1 or id=2 or id=3" prepared for inserting additionally in SQL-request. "closedForums" must be a simple array of values which request will be compared to. "more" could be 'where' or simply ''. "prefix" inserts a point "." after table name. "field" is field name which values are compared to. "syntax" is alternatively 'and' or 'or'. "condition" is '=' or '!='. Example: if $closedForums=array(6,7)
<P><i>$xtr=getClForums($closedForums,'where','','forum_id','and','!=');</i>
<p>returns:
<p><i>where forum_id!=6 and forum_id!=7</i>

<p>resource <b>db_simpleSelect</b> (boolean sus, [string table, [string fields, [string uniF, [string uniC, [string uniV, [string orderby, [string limit, [string uniF2, [string uniC2, [string uniV2]]]]]]]]])
<p>Returns resource identifier on successfull SQL-request or FALSE on failure. "sus" determines either we need to make a first request (if 0) or just go through request rows (1). "table" is table name, "fields" are request fields separated by comma. "uniF", "uniC", "uniV" describes correspondly unique values which is used in additional request like "where id=1", if set. "orderby" specifies field name which is used in ordering result, and "limit" adds 'limit' statement (could be set via makeLim() function). "uniF2", "uniC2", "uniV2" are another set of additional unique fields. Example:
<p><i>db_simpleSelect(0, 'minibb_topics', 'topic_id, topic_title','topic_id','&gt;','10', 'topic_id DESC', 20, 'topic_id', '!=', 25')</i>
<p>return resource ID for the following request:
<p><i>select topic_id, topic_title from minibb_topics where topic_id&gt;10 and topic_id!=25 order by topic_id DESC limit 20</i>

<p>int <b>insertArray</b> (array insertArray, string tabh)
<p>Returns SQL error-number after executing the request like "insert into users (id, name) values (1, 'Paul')". "insertArray" must be prepared simple array of variable names which MUST correspond to their values. In the given example, it should be array('id','name'), and in that case, in the script itself, there must be variable $id and $name, and their values correspondly must be 1 and 'Paul'. "tabh" is table name where values must be inserted ('users' in the given example).

<p>int <b>updateArray</b> (array updateArray, string tabh, string uniq, string uniqVal)
<p>Returns affected rows amount after executing an update request. In many cases similar to insertArray(). "updateArray" must be the same type array, and "tabh" is table name. "uniq" is unique field's name, and "uniqVal" is it's value. Example: if we have $updateArray=array('id','name'), and variable names, $tabh are the same as in the insertArray() example, and $uniq='user_id' and $uniqVal='2', SQL-command will be the following:
<p><i>update users set id=1, name='Paul' where user_id=2</i>


<p>int <b>db_delete</b> (string table, [string uniF, [string uniC, [string uniV, [string uniF2, [string uniC2, string[uniV2]]]]]])
<p>Executes DELETE request in SQL-query, return amount of affected rows. Field names mean the same as in db_simpleSelect.

<p>int <b>db_forumReplies</b> (int forumID, string tablePosts, string tableForums)
<p>Updates and returns forum replies amount in 'posts_count' field. Call this function after deleting reply, topic, user, or moving topic, or inserting new reply.

<p>int <b>db_forumTopics</b> (int forumID, string tableTopics, string tableForums)
<p>Updates and returns forum topics amount in 'topics_count' field. Call this function after deleting topic, user, or moving topic, or inserting new topic.

<p>int <b>db_topicPosts</b> (int topicID, string tableTopics, string tablePosts)
<p>Updates and returns topic replies amount in 'posts_count' field. Call this function after deleting topic, user, deleting reply, moving reply.

<p>Another functions in SQL-module are specific. They either don't fit to described universal functions or are too complex for designing something special for them. You can make your own specific functions, identificating them with prefix "db_" ath the beginning.


<p><b><a name="includeindex">Including in your own PHP script</a></b>
<p>If you are the creator of your own PHP site, you probably have the same header and footer for the whole site, or just want to use another functions that fit into your project and miniBB together. As usual, they are .php files, and are included in, for example, index.php. Since miniBB owns the same index.php in its structure by default, you can change the name of miniBB's index to something else (see above). Including forums from your own script requires a knowledge of PHP and things what are happening inside of miniBB. If you simply include your board using include(); you will get errors like "Headers already sent" or similar. This could happen when user loggs in to the forums, and cookies are set (of course, they can not be set, because some of your HTML stuff goes before include(); ). In this case, miniBB is a stick on two ends. The most efficient solution is to include your board this way:

<pre>
&lt;?php
$displayForum=1;
if((isset($_POST['mode']) and $_POST['mode']=='login')
or (isset($_GET['mode']) and $_GET['mode']=='logout')
or (isset($_POST['action']) and ($_POST['action']=='pthread'
or $_POST['action']=='ptopic' or $_POST['action']=='editmsg2'))) $displayForum=0;

/* On all conditions above, forums will do a re-location to another page,
so for avoiding header errors, we don't include any output here */

if($displayForum==1){
include ('./inc/header.php');
include ('./forum/forum.php');
include ('./inc/footer.php');
}
else {
include ('./forum/forum.php');
}
?&gt;
</pre>

<p>This little code actually shows, that if you have some action which will sent HTTP-headers (via PHP's header(); ), it is better to not include your header before. This could happen when user logs in or out. There also can be another redirections, described in the manual, but not included by default. In any case, you need to insert some condition to check what miniBB is doing right now.

<p><a name="mod_rewrite"><b>mod_rewrite (Apache) using</b></a>

<p>If you have <a href="http://www.apache.org">Apache</a> server with <i>mod_rewrite</i> module turned on, you probably already know what benefits it could give to you. We will not give advices here, how you could enable this feature in Apache; you'll find tons of documentation in Internet.

<p>How could you use mod_rewrite with miniBB? Actually, it could be used only for one purpose - so your miniBB's URLs look not like <i>./index.php?action=vtopic&forum=4</i> for example, or <i>./index.php?action=vthread&forum=1&topic=75</i>, but: <i>4_0.html</i> or <i>1_75_0.html</i>. These links will be more likely interpreted with search crawlers like <a href="http://www.google.com">Google</a>, for example, and probably you'll get your forums pages indexed more faster and more higher, than usual .php pages.

<p>miniBB will build some of internal links of this type automatically (for example, when building splitting pages, or on user's info page), and for this, you need to enable (uncomment and set to TRUE) $mod_rewrite option in setup_options.php. However, some of the links containing in templates, will not be built on the fly, and you need to edit some templates by hand.

<p>Notice that only links to threads and forums listings will be changed. There is no special need in changing links to Registration, Statistics and other pages. Search indexers need just your content.

<p>Beginning from version 2.0 RC2, links inside templates are changed automatically depending on your $mod_rewrite setting.

<p>As you might imagine, links are build under the following scheme:
<ul>
<li>List of topics: [FORUM_ID]_[PAGE].html
<li>List of threads: [FORUM_ID]_[TOPIC_ID]_[PAGE].html
<li>User info: user[USER_ID].html
</ul>

<p>Hope you see the logics in it?

<p>Vice versa, if you want to roll mod_rewrite changes back, replace new links to old links.

<p>Now, when your miniBB is prepared, and you are sure that mod_rewrite module is working correctly on your site, you need to create .htaccess file and place it in forums directory. It should look like this:

<pre>
RewriteEngine On
RewriteRule ^([0-9]+)_([0-9]+)_([-0-9]+)\.html$ ./index.php?action=vthread&forum=$1&topic=$2&page=$3
RewriteRule ^([0-9]+)_([-0-9]+)\.html$ ./index.php?action=vtopic&forum=$1&page=$2
RewriteRule ^user([0-9]+)\.html$ ./index.php?action=userinfo&user=$1
</pre>

<p>where index.php is your forums file.

<p>Be sure you have no .HTML files under the same scheme in the forums directory! Else they will not be displayed.

<p><b><a name="phpcode">PHP scripts</a></b>
<p>In PHP scripts, no tabs were used by us. All functions and operations are separated by newlines only. Most of the comments were removed in final miniBB release, however, there are some very necessary comments left, that will help you understand what's going on. Also, in many string variables cases we have used apostrophes ('') instead of quotes (""), because that increases the speed of the scripts dramatically.

<h1><a href="http://www.fsf.org/licenses/fdl.html#TOC1" name="gnu">GNU Free Documentation License</a></h1>

<P>Version 1.1, March 2000 
<P><PRE>Copyright (C) 2000  Free Software Foundation, Inc.
59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</PRE>
<P><STRONG>0. PREAMBLE</STRONG> 
<P>The purpose of this License is to make a manual, textbook, or other written 
document "free" in the sense of freedom: to assure everyone the effective 
freedom to copy and redistribute it, with or without modifying it, either 
commercially or noncommercially. Secondarily, this License preserves for the 
author and publisher a way to get credit for their work, while not being 
considered responsible for modifications made by others. 
<P>This License is a kind of "copyleft", which means that derivative works of 
the document must themselves be free in the same sense. It complements the GNU 
General Public License, which is a copyleft license designed for free software. 
<P>We have designed this License in order to use it for manuals for free 
software, because free software needs free documentation: a free program should 
come with manuals providing the same freedoms that the software does. But this 
License is not limited to software manuals; it can be used for any textual work, 
regardless of subject matter or whether it is published as a printed book. We 
recommend this License principally for works whose purpose is instruction or 
reference. 
<P><STRONG>1. APPLICABILITY AND DEFINITIONS</STRONG> 
<P>This License applies to any manual or other work that contains a notice 
placed by the copyright holder saying it can be distributed under the terms of 
this License. The "Document", below, refers to any such manual or work. Any 
member of the public is a licensee, and is addressed as "you". 
<P>A "Modified Version" of the Document means any work containing the Document 
or a portion of it, either copied verbatim, or with modifications and/or 
translated into another language. 
<P>A "Secondary Section" is a named appendix or a front-matter section of the 
Document that deals exclusively with the relationship of the publishers or 
authors of the Document to the Document's overall subject (or to related 
matters) and contains nothing that could fall directly within that overall 
subject. (For example, if the Document is in part a textbook of mathematics, a 
Secondary Section may not explain any mathematics.) The relationship could be a 
matter of historical connection with the subject or with related matters, or of 
legal, commercial, philosophical, ethical or political position regarding them. 
<P>The "Invariant Sections" are certain Secondary Sections whose titles are 
designated, as being those of Invariant Sections, in the notice that says that 
the Document is released under this License. 
<P>The "Cover Texts" are certain short passages of text that are listed, as 
Front-Cover Texts or Back-Cover Texts, in the notice that says that the Document 
is released under this License. 
<P>A "Transparent" copy of the Document means a machine-readable copy, 
represented in a format whose specification is available to the general public, 
whose contents can be viewed and edited directly and straightforwardly with 
generic text editors or (for images composed of pixels) generic paint programs 
or (for drawings) some widely available drawing editor, and that is suitable for 
input to text formatters or for automatic translation to a variety of formats 
suitable for input to text formatters. A copy made in an otherwise Transparent 
file format whose markup has been designed to thwart or discourage subsequent 
modification by readers is not Transparent. A copy that is not "Transparent" is 
called "Opaque". 
<P>Examples of suitable formats for Transparent copies include plain ASCII 
without markup, Texinfo input format, LaTeX input format, SGML or XML using a 
publicly available DTD, and standard-conforming simple HTML designed for human 
modification. Opaque formats include PostScript, PDF, proprietary formats that 
can be read and edited only by proprietary word processors, SGML or XML for 
which the DTD and/or processing tools are not generally available, and the 
machine-generated HTML produced by some word processors for output purposes 
only. 
<P>The "Title Page" means, for a printed book, the title page itself, plus such 
following pages as are needed to hold, legibly, the material this License 
requires to appear in the title page. For works in formats which do not have any 
title page as such, "Title Page" means the text near the most prominent 
appearance of the work's title, preceding the beginning of the body of the text. 

<P><STRONG>2. VERBATIM COPYING</STRONG> 
<P>You may copy and distribute the Document in any medium, either commercially 
or noncommercially, provided that this License, the copyright notices, and the 
license notice saying this License applies to the Document are reproduced in all 
copies, and that you add no other conditions whatsoever to those of this 
License. You may not use technical measures to obstruct or control the reading 
or further copying of the copies you make or distribute. However, you may accept 
compensation in exchange for copies. If you distribute a large enough number of 
copies you must also follow the conditions in section 3. 
<P>You may also lend copies, under the same conditions stated above, and you may 
publicly display copies. 
<P><STRONG>3. COPYING IN QUANTITY</STRONG> 
<P>If you publish printed copies of the Document numbering more than 100, and 
the Document's license notice requires Cover Texts, you must enclose the copies 
in covers that carry, clearly and legibly, all these Cover Texts: Front-Cover 
Texts on the front cover, and Back-Cover Texts on the back cover. Both covers 
must also clearly and legibly identify you as the publisher of these copies. The 
front cover must present the full title with all words of the title equally 
prominent and visible. You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve the title 
of the Document and satisfy these conditions, can be treated as verbatim copying 
in other respects. 
<P>If the required texts for either cover are too voluminous to fit legibly, you 
should put the first ones listed (as many as fit reasonably) on the actual 
cover, and continue the rest onto adjacent pages. 
<P>If you publish or distribute Opaque copies of the Document numbering more 
than 100, you must either include a machine-readable Transparent copy along with 
each Opaque copy, or state in or with each Opaque copy a publicly-accessible 
computer-network location containing a complete Transparent copy of the 
Document, free of added material, which the general network-using public has 
access to download anonymously at no charge using public-standard network 
protocols. If you use the latter option, you must take reasonably prudent steps, 
when you begin distribution of Opaque copies in quantity, to ensure that this 
Transparent copy will remain thus accessible at the stated location until at 
least one year after the last time you distribute an Opaque copy (directly or 
through your agents or retailers) of that edition to the public. 
<P>It is requested, but not required, that you contact the authors of the 
Document well before redistributing any large number of copies, to give them a 
chance to provide you with an updated version of the Document. 
<P><STRONG>4. MODIFICATIONS</STRONG> 
<P>You may copy and distribute a Modified Version of the Document under the 
conditions of sections 2 and 3 above, provided that you release the Modified 
Version under precisely this License, with the Modified Version filling the role 
of the Document, thus licensing distribution and modification of the Modified 
Version to whoever possesses a copy of it. In addition, you must do these things 
in the Modified Version: 
<P>
<UL>
  <LI><STRONG>A.</STRONG> Use in the Title Page (and on the covers, if any) a 
  title distinct from that of the Document, and from those of previous versions 
  (which should, if there were any, be listed in the History section of the 
  Document). You may use the same title as a previous version if the original 
  publisher of that version gives permission. 
  <LI><STRONG>B.</STRONG> List on the Title Page, as authors, one or more 
  persons or entities responsible for authorship of the modifications in the 
  Modified Version, together with at least five of the principal authors of the 
  Document (all of its principal authors, if it has less than five). 
  <LI><STRONG>C.</STRONG> State on the Title page the name of the publisher of 
  the Modified Version, as the publisher. 
  <LI><STRONG>D.</STRONG> Preserve all the copyright notices of the Document. 
  <LI><STRONG>E.</STRONG> Add an appropriate copyright notice for your 
  modifications adjacent to the other copyright notices. 
  <LI><STRONG>F.</STRONG> Include, immediately after the copyright notices, a 
  license notice giving the public permission to use the Modified Version under 
  the terms of this License, in the form shown in the Addendum below. 
  <LI><STRONG>G.</STRONG> Preserve in that license notice the full lists of 
  Invariant Sections and required Cover Texts given in the Document's license 
  notice. 
  <LI><STRONG>H.</STRONG> Include an unaltered copy of this License. 
  <LI><STRONG>I.</STRONG> Preserve the section entitled "History", and its 
  title, and add to it an item stating at least the title, year, new authors, 
  and publisher of the Modified Version as given on the Title Page. If there is 
  no section entitled "History" in the Document, create one stating the title, 
  year, authors, and publisher of the Document as given on its Title Page, then 
  add an item describing the Modified Version as stated in the previous 
  sentence. 
  <LI><STRONG>J.</STRONG> Preserve the network location, if any, given in the 
  Document for public access to a Transparent copy of the Document, and likewise 
  the network locations given in the Document for previous versions it was based 
  on. These may be placed in the "History" section. You may omit a network 
  location for a work that was published at least four years before the Document 
  itself, or if the original publisher of the version it refers to gives 
  permission. 
  <LI><STRONG>K.</STRONG> In any section entitled "Acknowledgements" or 
  "Dedications", preserve the section's title, and preserve in the section all 
  the substance and tone of each of the contributor acknowledgements and/or 
  dedications given therein. 
  <LI><STRONG>L.</STRONG> Preserve all the Invariant Sections of the Document, 
  unaltered in their text and in their titles. Section numbers or the equivalent 
  are not considered part of the section titles. 
  <LI><STRONG>M.</STRONG> Delete any section entitled "Endorsements". Such a 
  section may not be included in the Modified Version. 
  <LI><STRONG>N.</STRONG> Do not retitle any existing section as "Endorsements" 
  or to conflict in title with any Invariant Section. </LI></UL>
<P>If the Modified Version includes new front-matter sections or appendices that 
qualify as Secondary Sections and contain no material copied from the Document, 
you may at your option designate some or all of these sections as invariant. To 
do this, add their titles to the list of Invariant Sections in the Modified 
Version's license notice. These titles must be distinct from any other section 
titles. 
<P>You may add a section entitled "Endorsements", provided it contains nothing 
but endorsements of your Modified Version by various parties--for example, 
statements of peer review or that the text has been approved by an organization 
as the authoritative definition of a standard. 
<P>You may add a passage of up to five words as a Front-Cover Text, and a 
passage of up to 25 words as a Back-Cover Text, to the end of the list of Cover 
Texts in the Modified Version. Only one passage of Front-Cover Text and one of 
Back-Cover Text may be added by (or through arrangements made by) any one 
entity. If the Document already includes a cover text for the same cover, 
previously added by you or by arrangement made by the same entity you are acting 
on behalf of, you may not add another; but you may replace the old one, on 
explicit permission from the previous publisher that added the old one. 
<P>The author(s) and publisher(s) of the Document do not by this License give 
permission to use their names for publicity for or to assert or imply 
endorsement of any Modified Version. 
<P><STRONG>5. COMBINING DOCUMENTS</STRONG> 
<P>You may combine the Document with other documents released under this 
License, under the terms defined in section 4 above for modified versions, 
provided that you include in the combination all of the Invariant Sections of 
all of the original documents, unmodified, and list them all as Invariant 
Sections of your combined work in its license notice. 
<P>The combined work need only contain one copy of this License, and multiple 
identical Invariant Sections may be replaced with a single copy. If there are 
multiple Invariant Sections with the same name but different contents, make the 
title of each such section unique by adding at the end of it, in parentheses, 
the name of the original author or publisher of that section if known, or else a 
unique number. Make the same adjustment to the section titles in the list of 
Invariant Sections in the license notice of the combined work. 
<P>In the combination, you must combine any sections entitled "History" in the 
various original documents, forming one section entitled "History"; likewise 
combine any sections entitled "Acknowledgements", and any sections entitled 
"Dedications". You must delete all sections entitled "Endorsements." 
<P><STRONG>6. COLLECTIONS OF DOCUMENTS</STRONG> 
<P>You may make a collection consisting of the Document and other documents 
released under this License, and replace the individual copies of this License 
in the various documents with a single copy that is included in the collection, 
provided that you follow the rules of this License for verbatim copying of each 
of the documents in all other respects. 
<P>You may extract a single document from such a collection, and distribute it 
individually under this License, provided you insert a copy of this License into 
the extracted document, and follow this License in all other respects regarding 
verbatim copying of that document. 
<P><STRONG>7. AGGREGATION WITH INDEPENDENT WORKS</STRONG> 
<P>A compilation of the Document or its derivatives with other separate and 
independent documents or works, in or on a volume of a storage or distribution 
medium, does not as a whole count as a Modified Version of the Document, 
provided no compilation copyright is claimed for the compilation. Such a 
compilation is called an "aggregate", and this License does not apply to the 
other self-contained works thus compiled with the Document, on account of their 
being thus compiled, if they are not themselves derivative works of the 
Document. 
<P>If the Cover Text requirement of section 3 is applicable to these copies of 
the Document, then if the Document is less than one quarter of the entire 
aggregate, the Document's Cover Texts may be placed on covers that surround only 
the Document within the aggregate. Otherwise they must appear on covers around 
the whole aggregate. 
<P><STRONG>8. TRANSLATION</STRONG> 
<P>Translation is considered a kind of modification, so you may distribute 
translations of the Document under the terms of section 4. Replacing Invariant 
Sections with translations requires special permission from their copyright 
holders, but you may include translations of some or all Invariant Sections in 
addition to the original versions of these Invariant Sections. You may include a 
translation of this License provided that you also include the original English 
version of this License. In case of a disagreement between the translation and 
the original English version of this License, the original English version will 
prevail. 
<P><STRONG>9. TERMINATION</STRONG> 
<P>You may not copy, modify, sublicense, or distribute the Document except as 
expressly provided for under this License. Any other attempt to copy, modify, 
sublicense or distribute the Document is void, and will automatically terminate 
your rights under this License. However, parties who have received copies, or 
rights, from you under this License will not have their licenses terminated so 
long as such parties remain in full compliance. 
<P><STRONG>10. FUTURE REVISIONS OF THIS LICENSE</STRONG> 
<P>The Free Software Foundation may publish new, revised versions of the GNU 
Free Documentation License from time to time. Such new versions will be similar 
in spirit to the present version, but may differ in detail to address new 
problems or concerns. See http://www.gnu.org/copyleft/. 
<P>Each version of the License is given a distinguishing version number. If the 
Document specifies that a particular numbered version of this License "or any 
later version" applies to it, you have the option of following the terms and 
conditions either of that specified version or of any later version that has 
been published (not as a draft) by the Free Software Foundation. If the Document 
does not specify a version number of this License, you may choose any version 
ever published (not as a draft) by the Free Software Foundation. 
